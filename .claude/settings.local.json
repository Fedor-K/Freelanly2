{
  "permissions": {
    "allow": [
      "Bash(npx prisma db push:*)",
      "Bash(npx tsc:*)",
      "Bash(npm run build:*)",
      "Bash(echo:*)",
      "Bash(openssl rand:*)",
      "Bash(git push:*)",
      "Bash(DATABASE_URL=\"postgresql://neondb_owner:npg_P4kEWCj6RdIa@ep-noisy-tooth-ahj8gt6v-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require\" npx prisma db push:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git remote set-url:*)",
      "Bash(DATABASE_URL=\"postgresql://neondb_owner:npg_P4kEWCj6RdIa@ep-noisy-tooth-ahj8gt6v-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require\" npx tsx:*)",
      "Bash(xargs:*)",
      "Bash(curl:*)",
      "Bash(\"https://api-metrika.yandex.net/stat/v1/data?id=103606747&metrics=ym:s:visits,ym:s:users,ym:s:pageviews,ym:s:bounceRate&date1=2024-12-01&date2=2024-12-26\")",
      "Bash(\"https://api-metrika.yandex.net/stat/v1/data?id=103606747&metrics=ym:s:visits,ym:s:users,ym:s:pageviews,ym:s:bounceRate&date1=2025-12-01&date2=2025-12-26\")",
      "Bash(python3:*)",
      "Bash(cat:*)",
      "Bash(\"https://api-metrika.yandex.net/stat/v1/data?id=103606747&metrics=ym:s:visits&dimensions=ym:s:lastTrafficSource&date1=2025-12-01&date2=2025-12-26&limit=10\")",
      "Bash(\"https://api-metrika.yandex.net/stat/v1/data?id=103606747&metrics=ym:s:visits&dimensions=ym:s:searchPhrase&date1=2025-12-01&date2=2025-12-26&limit=15&filters=ym:s:searchPhrase!n\")",
      "Bash(grep:*)",
      "WebSearch",
      "WebFetch(domain:dashamail.ru)",
      "Bash(DATABASE_URL=\"postgresql://neondb_owner:npg_P4kEWCj6RdIa@ep-noisy-tooth-ahj8gt6v-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require\" npx tsx -e:*)",
      "Bash(npx tsx:*)",
      "Bash(npm install:*)",
      "WebFetch(domain:webpulls.com)",
      "Bash(DATABASE_URL=\"postgresql://neondb_owner:npg_P4kEWCj6RdIa@ep-noisy-tooth-ahj8gt6v-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require\" npx prisma db push:*)",
      "WebFetch(domain:spaceleadspro.notion.site)",
      "WebFetch(domain:www.flexjobs.com)",
      "WebFetch(domain:blog.remotive.com)",
      "WebFetch(domain:www.starterstory.com)",
      "WebFetch(domain:remotive.com)",
      "WebFetch(domain:www.indeed.com)",
      "Bash(ls:*)",
      "Bash(npx prisma generate)",
      "WebFetch(domain:www.upwork.com)",
      "WebFetch(domain:www.fiverr.com)",
      "WebFetch(domain:support.upwork.com)",
      "Bash(node:*)",
      "Bash(git restore:*)",
      "Bash(APOLLO_API_KEY1=\"3qf8GsG-C_CAxjFH35WtNA\" DATABASE_URL=\"postgresql://neondb_owner:npg_P4kEWCj6RdIa@ep-noisy-tooth-ahj8gt6v-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require\" npx tsx:*)",
      "Bash(APOLLO_API_KEY1=\"3qf8GsG-C_CAxjFH35WtNA\" DATABASE_URL=\"postgresql://neondb_owner:npg_P4kEWCj6RdIa@ep-noisy-tooth-ahj8gt6v-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require\" npx tsx -e \"\nconst { enrichCompaniesByName } = require\\(''''./src/services/company-enrichment''''\\);\n\nasync function main\\(\\) {\n  console.log\\(''''Starting enrichment...''''\\);\n  const stats = await enrichCompaniesByName\\(100\\);\n  console.log\\(''''\\\\n=== RESULTS ===''''\\);\n  console.log\\(''''Total:'''', stats.total\\);\n  console.log\\(''''Enriched:'''', stats.enriched\\);\n  console.log\\(''''Skipped \\(no Apollo data\\):'''', stats.skipped\\);\n  console.log\\(''''Failed:'''', stats.failed\\);\n}\n\nmain\\(\\);\n\")",
      "WebFetch(domain:www.freelanly.com)",
      "WebFetch(domain:freelanly.com)",
      "WebFetch(domain:developers.google.com)",
      "WebFetch(domain:www.jobboardly.com)",
      "WebFetch(domain:schema.org)",
      "WebFetch(domain:creatomate.com)",
      "WebFetch(domain:n8n.io)",
      "Bash(npm uninstall:*)",
      "WebFetch(domain:github.com)",
      "WebFetch(domain:raw.githubusercontent.com)",
      "Bash(git branch:*)",
      "Bash(git show:*)",
      "Bash(ssh:*)",
      "Bash(jq:*)",
      "Bash(PEXELS_KEY=\"6YaYKaH1QrUMZAYPqgsor3FAyKLvRg1CQoBWpi1ahQKAhfQU9FIFRAnG\" curl -s \"https://api.pexels.com/videos/search?query=remote%20work&per_page=3\" -H \"Authorization: $PEXELS_KEY\")",
      "Bash(host:*)",
      "Bash(nslookup:*)",
      "Bash(APOLLO_API_KEY1=\"3qf8GsG-C_CAxjFH35WtNA\" npx tsx -e \"\nasync function testApollo\\(domain\\) {\n  const res = await fetch\\(''https://api.apollo.io/v1/organizations/enrich'', {\n    method: ''POST'',\n    headers: { ''Content-Type'': ''application/json'', ''x-api-key'': process.env.APOLLO_API_KEY1 },\n    body: JSON.stringify\\({ domain }\\)\n  }\\);\n  const data = await res.json\\(\\);\n  console.log\\(domain + '':'', data.organization ? { name: data.organization.name, logo: data.organization.logo_url?.slice\\(0,50\\) } : ''NOT FOUND''\\);\n}\n\n\\(async \\(\\) => {\n  await testApollo\\(''99marketingservices.com''\\);\n  await testApollo\\(''hconnect.com.vn''\\);\n  await testApollo\\(''conceptualbs.com''\\);\n  await testApollo\\(''gleekvell.com''\\);\n}\\)\\(\\);\n\")",
      "Bash(APOLLO_API_KEY1=\"3qf8GsG-C_CAxjFH35WtNA\" npx tsx:*)",
      "Bash(DATABASE_URL=\"postgresql://neondb_owner:npg_P4kEWCj6RdIa@ep-noisy-tooth-ahj8gt6v-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require\" APOLLO_API_KEY1=\"3qf8GsG-C_CAxjFH35WtNA\" npx tsx scripts/enrich-companies.ts)",
      "Bash(DATABASE_URL=\"postgresql://neondb_owner:npg_P4kEWCj6RdIa@ep-noisy-tooth-ahj8gt6v-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require\" npx tsx -e \"\nconst { PrismaClient } = require\\(''@prisma/client''\\);\nconst prisma = new PrismaClient\\(\\);\n\nasync function check\\(\\) {\n  const company = await prisma.company.findFirst\\({\n    where: { slug: ''articulate'' },\n    select: {\n      id: true,\n      name: true,\n      description: true,\n      website: true,\n      logoUrl: true,\n      apolloEnrichedAt: true,\n      createdAt: true\n    }\n  }\\);\n  console.log\\(''Company:'', JSON.stringify\\(company, null, 2\\)\\);\n}\ncheck\\(\\);\n\")",
      "Bash(APOLLO_API_KEY1=\"3qf8GsG-C_CAxjFH35WtNA\" npx tsx -e:*)",
      "Bash(DATABASE_URL=\"postgresql://neondb_owner:npg_P4kEWCj6RdIa@ep-noisy-tooth-ahj8gt6v-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require\" APOLLO_API_KEY1=\"3qf8GsG-C_CAxjFH35WtNA\" npx tsx scripts/enrich-empty-companies.ts 20)",
      "Bash(DATABASE_URL=\"postgresql://neondb_owner:npg_P4kEWCj6RdIa@ep-noisy-tooth-ahj8gt6v-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require\" APOLLO_API_KEY1=\"3qf8GsG-C_CAxjFH35WtNA\" npx tsx scripts/enrich-empty-companies.ts 200)",
      "Bash(git checkout:*)",
      "Bash(DATABASE_URL=\"postgresql://neondb_owner:npg_P4kEWCj6RdIa@ep-noisy-tooth-ahj8gt6v-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require\" APOLLO_API_KEY1=\"3qf8GsG-C_CAxjFH35WtNA\" npx tsx:*)",
      "Bash(DATABASE_URL=\"postgresql://neondb_owner:npg_P4kEWCj6RdIa@ep-noisy-tooth-ahj8gt6v-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require\" APOLLO_API_KEY1=\"3qf8GsG-C_CAxjFH35WtNA\" npx tsx scripts/enrich-single.ts wr)",
      "Bash(du:*)",
      "Bash(dig:*)",
      "WebFetch(domain:z.ai)",
      "WebFetch(domain:docs.z.ai)",
      "Bash(ZAI_API_KEY=\"7a46f1755ccb4b828fe35ab83cb81f47.FogYwylFMrNBWEst\" DATABASE_URL=\"postgresql://neondb_owner:npg_P4kEWCj6RdIa@ep-noisy-tooth-ahj8gt6v-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require\" DEEPSEEK_API_KEY=\"sk-1691d2879b164f5eb63c5a9ab74c7785\" npx tsx scripts/test-zai-vs-deepseek.ts)",
      "Bash(ZAI_API_KEY=\"7a46f1755ccb4b828fe35ab83cb81f47.FogYwylFMrNBWEst\" DATABASE_URL=\"postgresql://neondb_owner:npg_P4kEWCj6RdIa@ep-noisy-tooth-ahj8gt6v-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require\" npx tsx scripts/test-zai-vs-deepseek.ts)",
      "Bash(AI_PROVIDER=zai ZAI_API_KEY=\"7a46f1755ccb4b828fe35ab83cb81f47.FogYwylFMrNBWEst\" DATABASE_URL=\"postgresql://neondb_owner:npg_P4kEWCj6RdIa@ep-noisy-tooth-ahj8gt6v-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require\" npx tsx scripts/test-zai-vs-deepseek.ts)",
      "Bash(AI_PROVIDER=zai ZAI_API_KEY=\"7a46f1755ccb4b828fe35ab83cb81f47.FogYwylFMrNBWEst\" DATABASE_URL=\"postgresql://neondb_owner:npg_P4kEWCj6RdIa@ep-noisy-tooth-ahj8gt6v-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require\" npx tsx:*)",
      "Bash(AI_PROVIDER=zai ZAI_API_KEY=\"7a46f1755ccb4b828fe35ab83cb81f47.FogYwylFMrNBWEst\" DATABASE_URL=\"postgresql://neondb_owner:npg_P4kEWCj6RdIa@ep-noisy-tooth-ahj8gt6v-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require\" npx tsx scripts/generate-company-descriptions.ts)",
      "Bash(DATABASE_URL=\"postgresql://neondb_owner:npg_P4kEWCj6RdIa@ep-noisy-tooth-ahj8gt6v-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require\" npx tsx -e '\nconst { PrismaClient } = require\\(\"\"@prisma/client\"\"\\);\nconst prisma = new PrismaClient\\(\\);\n\nasync function check\\(\\) {\n  const company = await prisma.company.findFirst\\({\n    where: { slug: \"\"enuncia\"\" }\n  }\\);\n  \n  console.log\\(\"\"Company enuncia:\"\"\\);\n  console.log\\(JSON.stringify\\(company, null, 2\\)\\);\n  \n  await prisma.$disconnect\\(\\);\n}\ncheck\\(\\);\n')",
      "Bash(DATABASE_URL=\"postgresql://neondb_owner:npg_P4kEWCj6RdIa@ep-noisy-tooth-ahj8gt6v-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require\" ZAI_API_KEY=\"7a46f1755ccb4b828fe35ab83cb81f47.FogYwylFMrNBWEst\" npx tsx -e '\nconst { PrismaClient } = require\\(\"\"@prisma/client\"\"\\);\nconst prisma = new PrismaClient\\(\\);\n\nasync function check\\(\\) {\n  // First check current state\n  const company = await prisma.company.findFirst\\({\n    where: { slug: \"\"enuncia\"\" },\n    select: { id: true, name: true, description: true, apolloEnrichedAt: true }\n  }\\);\n  console.log\\(\"\"Before:\"\", JSON.stringify\\(company, null, 2\\)\\);\n\n  // Reset enrichment status to test\n  if \\(company\\) {\n    await prisma.company.update\\({\n      where: { id: company.id },\n      data: { apolloEnrichedAt: null, description: null }\n    }\\);\n    console.log\\(\"\"\\\\\\\\nReset for testing...\"\"\\);\n  }\n\n  await prisma.$disconnect\\(\\);\n}\ncheck\\(\\);\n')",
      "Bash(DATABASE_URL=\"postgresql://neondb_owner:npg_P4kEWCj6RdIa@ep-noisy-tooth-ahj8gt6v-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require\" APOLLO_API_KEY1=\"3qf8GsG-C_CAxjFH35WtNA\" ZAI_API_KEY=\"7a46f1755ccb4b828fe35ab83cb81f47.FogYwylFMrNBWEst\" npx tsx:*)",
      "Bash(DATABASE_URL=\"postgresql://neondb_owner:npg_P4kEWCj6RdIa@ep-noisy-tooth-ahj8gt6v-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=require\" ZAI_API_KEY=\"7a46f1755ccb4b828fe35ab83cb81f47.FogYwylFMrNBWEst\" npx tsx scripts/generate-company-descriptions.ts 80)",
      "WebFetch(domain:www.remotion.dev)",
      "Bash(ss:*)",
      "Bash(xxd:*)",
      "Bash(GOOGLE_INDEXING_CREDENTIALS='{\"\"type\"\":\"\"service_account\"\",\"\"project_id\"\":\"\"freelanly2\"\",\"\"private_key_id\"\":\"\"8a1a2e100062542c82f86cddcdb6d0b2e2c72a4e\"\",\"\"private_key\"\":\"\"-----BEGIN PRIVATE KEY-----\\\\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCwL3/dVVAXQ2pB\\\\nsQhdmZ5KRDoMatAr4GYlHCXINu/qU7JRa6JQgi1srq/8ZJ12z2JNOQdMDGUldGjs\\\\nGlZhdtwjdRbFxtVEbC4mCnByQ6ZawJ0DRwzqldwq/5KO4YKcNeJsqFfMwan1QOSA\\\\n+RBjtiT5ymiTbn8OP5yiHZJcoxXt9fJzEHZQUTKo1p6G6Fql0T0EVlGdV1Wh66CS\\\\n0HNZZz/To/noNoWhkRw87mqxr1RiLFT7J8kJ38KQx92XPrhrCcn+CJSKCnHpGpWy\\\\nXNmbvSFhDzeED6wEgUMOd2uZl4MbSdwR0SC1DgcoElEbbDqckC+lxCeWej4y7HLS\\\\n30qI+ghrAgMBAAECggEAHKb84l/XcJEUHK7Pr3kmFunVjuNoC1qpAev78P2OMst9\\\\numQIt5MUFBKsqB0sxn+fevOFTkbNxDOURKFb3unXjyShmXRmhoQZVTJpawu5aBTe\\\\n9AOABD5u2cdKbFYcSY8xzX3rGW99VldBUgAvPCgJB151d1SG8ShDLtIkVVBoZpRN\\\\nvm3hbma0fIW6ebBI50JEC5iI2ENM1yBJyDAn/bltEpMyo1+Y/pfcc+0xn57JEhex\\\\nzzz1I0F23C9luWpjnNeWqrp8SF0xnpXPC4fTPsGlZGqbheBM5PkRVRn4P42+r92D\\\\nwoxLwDJwoP+5qLLgKV+8DLNgyHgIlPqEW6aLE3/0AQKBgQDeClG7DBNmnQZnao6A\\\\nJ5ZJhpNAnRf5Jgme4zdWgKvIZKF7MGQGiVvHEdyrB0yhiXGXLnmWv9O/iq7qMCrG\\\\nJwM7Sz5kE/dUkFl3dj6jMWrEIgpjW6rtWzcke4oaDqtqzN6FwfSVNlFnhBR1Ki/A\\\\nN+o8USCgDwiWAZUL5DP+O4QZAQKBgQDLIczoCDzEVJZaMXhLx7Own87HAG+pevFn\\\\nwecHFnn4XtBowCCZXglaEsUjIoV2WCib6NxmpYv8KaPhwLdNagsuUxGAwxgD1+Ee\\\\n+KZ7DJOAaMPJDJVLMWKQX9SLxwTs4253/F5KiNIHd2clGHimfKuVvXlEeGNdOkAS\\\\nL/sGgDaVawKBgAZdt2AshXXgtKlMZc+I0wdCo4ArwN801vvGOfTx9XrmX7bfeU6y\\\\nq332piQFLo5HGYmjHHtU/qY0PLWcMe3CepY9nwlRhTrYdKg3LK6TISOEclXM8Aak\\\\nId2a6Se8GfAS9aJSIEgS6ZyVLdz6G6pgMAgQr2XHaJCcdQCFR3RXkn8BAoGAR4yE\\\\nTEZ6gPz6aJJ8ONUCqffgMaAptJylY1KdOZXlKGLdLchesya4TI3H+nQyZljvFNuU\\\\npmMxR4SzQNVMu2vavFpuE9ikINZtaSdUHIt1eQltzOctvuqKOShICWP0jCwfwQuX\\\\netFuiUq5fgt8k8fd+ERg7okpFrFp1/4mgUev8jkCgYAFbRP2uazImZLUZB8Y1DwJ\\\\n/wNfa14CwKIkU19ay1eXW7dYqgHgHzlRASBnGZj1AjaYBfeSyI3ZPSKK/hLosDNo\\\\n925h/SgmcIozf5Z9kALOQjFQ19DnpArbC485sTbBuAddUcnHlZyLXFRsftccp/RI\\\\nvIGNHlPpcz6KGUQnT0/2tA==\\\\n-----END PRIVATE KEY-----\\\\n\"\",\"\"client_email\"\":\"\"freelanly2@freelanly2.iam.gserviceaccount.com\"\",\"\"client_id\"\":\"\"117122806165653236284\"\",\"\"auth_uri\"\":\"\"https://accounts.google.com/o/oauth2/auth\"\",\"\"token_uri\"\":\"\"https://oauth2.googleapis.com/token\"\",\"\"auth_provider_x509_cert_url\"\":\"\"https://www.googleapis.com/oauth2/v1/certs\"\",\"\"client_x509_cert_url\"\":\"\"https://www.googleapis.com/robot/v1/metadata/x509/freelanly2%40freelanly2.iam.gserviceaccount.com\"\",\"\"universe_domain\"\":\"\"googleapis.com\"\"}' npx tsx -e '\nconst { SignJWT, importPKCS8 } = require\\(\"\"jose\"\"\\);\n\nasync function test\\(\\) {\n  const creds = JSON.parse\\(process.env.GOOGLE_INDEXING_CREDENTIALS\\);\n  \n  // 1. Import key with jose\n  console.log\\(\"\"1. Importing key with jose...\"\"\\);\n  const privateKey = await importPKCS8\\(creds.private_key, \"\"RS256\"\"\\);\n  console.log\\(\"\"   ✅ Key imported\"\"\\);\n\n  // 2. Create JWT\n  console.log\\(\"\"2. Creating JWT...\"\"\\);\n  const jwt = await new SignJWT\\({ scope: \"\"https://www.googleapis.com/auth/indexing\"\" }\\)\n    .setProtectedHeader\\({ alg: \"\"RS256\"\", typ: \"\"JWT\"\" }\\)\n    .setIssuer\\(creds.client_email\\)\n    .setAudience\\(\"\"https://oauth2.googleapis.com/token\"\"\\)\n    .setIssuedAt\\(\\)\n    .setExpirationTime\\(\"\"1h\"\"\\)\n    .sign\\(privateKey\\);\n  console.log\\(\"\"   ✅ JWT created, length:\"\", jwt.length\\);\n\n  // 3. Get access token\n  console.log\\(\"\"3. Getting access token from Google...\"\"\\);\n  const res = await fetch\\(\"\"https://oauth2.googleapis.com/token\"\", {\n    method: \"\"POST\"\",\n    headers: { \"\"Content-Type\"\": \"\"application/x-www-form-urlencoded\"\" },\n    body: \"\"grant_type=urn:ietf:params:oauth:grant-type:jwt-bearer&assertion=\"\" + jwt,\n  }\\);\n  const data = await res.json\\(\\);\n  if \\(data.access_token\\) {\n    console.log\\(\"\"   ✅ Got access token, length:\"\", data.access_token.length\\);\n  } else {\n    console.log\\(\"\"   ❌ Failed:\"\", data\\);\n    return;\n  }\n\n  // 4. Submit URL to Google Indexing API\n  console.log\\(\"\"4. Submitting URL to Google Indexing API...\"\"\\);\n  const indexRes = await fetch\\(\"\"https://indexing.googleapis.com/v3/urlNotifications:publish\"\", {\n    method: \"\"POST\"\",\n    headers: {\n      \"\"Content-Type\"\": \"\"application/json\"\",\n      Authorization: \"\"Bearer \"\" + data.access_token,\n    },\n    body: JSON.stringify\\({ url: \"\"https://freelanly.com/jobs\"\", type: \"\"URL_UPDATED\"\" }\\),\n  }\\);\n  const indexData = await indexRes.json\\(\\);\n  console.log\\(\"\"   Result:\"\", JSON.stringify\\(indexData\\)\\);\n  \n  if \\(indexData.urlNotificationMetadata\\) {\n    console.log\\(\"\"\\\\n✅ SUCCESS! Google Indexing API работает!\"\"\\);\n  } else {\n    console.log\\(\"\"\\\\n❌ FAILED:\"\", indexData.error?.message || \"\"Unknown error\"\"\\);\n  }\n}\n\ntest\\(\\).catch\\(console.error\\);\n')"
    ]
  }
}
