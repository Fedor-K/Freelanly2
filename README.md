# Freelanly 2.0

SEO-Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğ° Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ° ÑƒĞ´Ğ°Ğ»Ñ‘Ğ½Ğ½Ñ‹Ñ… Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¹ Ñ Ğ°Ğ³Ñ€ĞµĞ³Ğ°Ñ†Ğ¸ĞµĞ¹ Ğ¸Ğ· LinkedIn Ğ¸ ATS ÑĞ¸ÑÑ‚ĞµĞ¼.

## ĞšĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸Ñ

Freelanly Ğ°Ğ³Ñ€ĞµĞ³Ğ¸Ñ€ÑƒĞµÑ‚ hiring-Ğ¿Ğ¾ÑÑ‚Ñ‹ Ğ¸Ğ· LinkedIn, Ğ¸Ğ·Ğ²Ğ»ĞµĞºĞ°ĞµÑ‚ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒÑ AI, Ğ¸ Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑĞ¼ Ğ¾Ñ‚ĞºĞ»Ğ¸ĞºĞ°Ñ‚ÑŒÑÑ Ğ½Ğ° Ğ²Ğ°ĞºĞ°Ğ½ÑĞ¸Ğ¸ Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ Ñ‡ĞµÑ€ĞµĞ· email.

### ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¾ÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸

- **LinkedIn Integration** â€” Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³ hiring-Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ² Ñ‡ĞµÑ€ĞµĞ· Apify
- **AI Extraction** â€” Ğ¸Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¸Ğ· Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ² Ñ‡ĞµÑ€ĞµĞ· DeepSeek
- **Dual Display** â€” Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ¸ extracted facts, Ğ¸ Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ğ¾ÑÑ‚ (Ñ‡ĞµÑÑ‚Ğ½Ğ¾ÑÑ‚ÑŒ = Ğ´Ğ¾Ğ²ĞµÑ€Ğ¸Ğµ)
- **SEO-First** â€” 13,500+ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ½Ñ‹Ñ… landing pages Ğ´Ğ»Ñ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ Ñ‚Ñ€Ğ°Ñ„Ğ¸ĞºĞ°
- **Email Applications** â€” Ğ¾Ñ‚ĞºĞ»Ğ¸ĞºĞ¸ Ñ‡ĞµÑ€ĞµĞ· DashaMail Ñ tracking

---

## Tech Stack

| Layer | Technology |
|-------|------------|
| **Framework** | Next.js 16 (App Router) |
| **Language** | TypeScript |
| **Styling** | Tailwind CSS v4 + shadcn/ui |
| **Database** | PostgreSQL (Neon) |
| **ORM** | Prisma 7 |
| **AI** | DeepSeek API |
| **Scraping** | Apify |
| **Email** | DashaMail |
| **Payments** | Stripe |
| **Hosting** | VPS + Docker |

---

## Quick Start

### Prerequisites

- Node.js 22+
- PostgreSQL database (Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼ [Neon](https://neon.tech))
- API ĞºĞ»ÑÑ‡Ğ¸ (ÑĞ¼. [Environment Variables](#environment-variables))

### Installation

```bash
# Clone repository
git clone https://github.com/Fedor-K/Freelanly2.git
cd Freelanly2

# Install dependencies
npm install

# Setup environment
cp .env.example .env
# Edit .env with your values

# Push database schema
npm run db:push

# Seed initial data
npm run db:seed

# Start development server
npm run dev
```

Open [http://localhost:3000](http://localhost:3000)

---

## Environment Variables

```env
# Database (Neon PostgreSQL)
DATABASE_URL="postgresql://user:pass@host.neon.tech/db?sslmode=require"

# App
NEXT_PUBLIC_APP_URL="https://freelanly.com"

# DeepSeek AI (job extraction)
DEEPSEEK_API_KEY="sk-xxx"

# Apify (LinkedIn scraping)
APIFY_API_TOKEN="apify_api_xxx"

# DashaMail (email applications)
DASHAMAIL_API_KEY="xxx"
DASHAMAIL_FROM_EMAIL="info@freelanly.com"
DASHAMAIL_LIST_ID="xxx"

# Stripe (payments)
STRIPE_SECRET_KEY="sk_xxx"
STRIPE_WEBHOOK_SECRET="whsec_xxx"
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_xxx"

# Cron security
CRON_SECRET="your-random-secret"
```

---

## Project Structure

```
src/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ page.tsx                  # Homepage
â”‚   â”œâ”€â”€ jobs/
â”‚   â”‚   â””â”€â”€ page.tsx              # Job listings
â”‚   â”œâ”€â”€ job/
â”‚   â”‚   â””â”€â”€ [slug]/
â”‚   â”‚       â””â”€â”€ page.tsx          # Job detail (Dual Display)
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ cron/
â”‚           â””â”€â”€ fetch-linkedin/
â”‚               â””â”€â”€ route.ts      # LinkedIn import endpoint
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                       # shadcn/ui components
â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â””â”€â”€ Footer.tsx
â”‚   â””â”€â”€ jobs/
â”‚       â””â”€â”€ JobCard.tsx
â”‚
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ db.ts                     # Prisma client
â”‚   â”œâ”€â”€ deepseek.ts               # DeepSeek AI client
â”‚   â”œâ”€â”€ apify.ts                  # Apify client
â”‚   â”œâ”€â”€ dashamail.ts              # DashaMail client
â”‚   â””â”€â”€ utils.ts                  # Utilities
â”‚
â”œâ”€â”€ services/
â”‚   â””â”€â”€ linkedin-processor.ts     # LinkedIn â†’ Job pipeline
â”‚
â”œâ”€â”€ config/
â”‚   â””â”€â”€ site.ts                   # Site config, categories
â”‚
â””â”€â”€ types/
    â””â”€â”€ index.ts                  # TypeScript types

prisma/
â”œâ”€â”€ schema.prisma                 # Database schema
â””â”€â”€ seed.ts                       # Seed script
```

---

## Database Schema

### Core Models

```
User            â†’ Stripe integration, plan management
Company         â†’ Logo, website, ATS integration
Category        â†’ Hierarchy support for SEO
Job             â†’ Dual source support (ATS/LinkedIn)
Application     â†’ Email tracking
LandingPage     â†’ SEO programmatic pages
ImportLog       â†’ Job import tracking
```

### Key Job Fields

```prisma
model Job {
  // Basic
  title           String
  description     String

  // LinkedIn-specific (Dual Display)
  sourceType      SourceType    // STRUCTURED vs UNSTRUCTURED
  originalContent String?       // Original post text
  authorLinkedIn  String?       // Post author URL

  // Quality
  qualityScore    Int           // 0-100 score
  salaryIsEstimate Boolean      // Transparency
}
```

See full schema: [prisma/schema.prisma](prisma/schema.prisma)

---

## LinkedIn Processing Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Apify Actor    â”‚  Scrape hiring posts from LinkedIn
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DeepSeek AI    â”‚  Extract: title, company, salary, skills, level
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Company        â”‚  Find/create company, enrich from LinkedIn
â”‚  Enrichment     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Quality Score  â”‚  Calculate score based on data completeness
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PostgreSQL     â”‚  Save job with Dual Display data
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Run Import

```bash
# Via API
curl -X POST http://localhost:3000/api/cron/fetch-linkedin \
  -H "Authorization: Bearer YOUR_CRON_SECRET"

# Or setup cron (every 6 hours)
0 */6 * * * curl -X POST https://your-domain.com/api/cron/fetch-linkedin -H "Authorization: Bearer secret"
```

---

## Dual Display Feature

LinkedIn posts â‰  structured job descriptions. We solve trust issues by showing BOTH:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Senior React Developer at Acme Corp         â”‚
â”‚  Remote Â· $120-160k (estimated)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“‹ EXTRACTED FACTS                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                           â”‚
â”‚  â€¢ Role: Senior Frontend Developer           â”‚
â”‚  â€¢ Skills: React, TypeScript, Node.js        â”‚
â”‚  â€¢ Level: Senior                             â”‚
â”‚  â€¢ Remote: Yes                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’¬ ORIGINAL LINKEDIN POST                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚  "Hey network! ğŸš€ We're growing at Acme...   â”‚
â”‚   Looking for a Senior React Developer..."   â”‚
â”‚                                              â”‚
â”‚  Posted by John Doe Â· 2 days ago             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [View on LinkedIn]  [Apply via Email]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Why?** Users see exactly what they'll find on LinkedIn. No fake descriptions.

---

## SEO Architecture

### URL Structure

```
/jobs                           â†’ All jobs
/jobs/[category]                â†’ /jobs/frontend
/jobs/[category]/[level]        â†’ /jobs/frontend/senior
/job/[slug]                     â†’ Individual job page
/companies/[slug]               â†’ Company page
/remote-[category]-jobs         â†’ SEO landing pages
```

### Programmatic Pages

50+ categories Ã— 30+ locations Ã— levels = **13,500+ unique pages**

Examples:
- `/remote-react-developer-jobs-germany`
- `/senior-devops-engineer-jobs-remote`

---

## NPM Scripts

```bash
npm run dev          # Start dev server
npm run build        # Production build
npm run start        # Start production server
npm run lint         # Run ESLint

npm run db:push      # Push schema to database
npm run db:seed      # Seed initial data
npm run db:studio    # Open Prisma Studio
npm run db:reset     # Reset DB + reseed
```

---

## Deployment

### Option 1: PM2 (recommended)

```bash
# ĞŸĞµÑ€Ğ²Ğ°Ñ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°
cd /opt
git clone https://github.com/Fedor-K/Freelanly2.git freelanly2
cd freelanly2

npm install
cp .env.example .env
nano .env  # Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ

npx prisma db push
npm run build

# Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ½Ğ° Ğ¿Ğ¾Ñ€Ñ‚Ñƒ 3001
pm2 start npm --name "freelanly" -- start -- -p 3001
pm2 save
pm2 startup  # Ğ°Ğ²Ñ‚Ğ¾Ğ·Ğ°Ğ¿ÑƒÑĞº Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸
```

### ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ (PM2)

```bash
cd /opt/freelanly2
git pull
npm install           # ĞµÑĞ»Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ğ»Ğ¸ÑÑŒ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
npx prisma db push    # ĞµÑĞ»Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ğ»Ğ°ÑÑŒ ÑÑ…ĞµĞ¼Ğ° Ğ‘Ğ”
npm run build
pm2 restart freelanly
```

### Option 2: Docker

```bash
cd /opt
git clone https://github.com/Fedor-K/Freelanly2.git freelanly
cd freelanly
cp .env.example .env
nano .env

docker compose up -d --build
```

### ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ (Docker)

```bash
cd /opt/freelanly
git pull
docker compose up -d --build
```

### Ğ¡ Nginx + SSL

```bash
apt install nginx certbot python3-certbot-nginx -y
cp deploy/nginx.conf /etc/nginx/sites-available/freelanly
ln -s /etc/nginx/sites-available/freelanly /etc/nginx/sites-enabled/
certbot --nginx -d your-domain.com
nginx -t && systemctl reload nginx
```

See full guide: [deploy/DEPLOY.md](deploy/DEPLOY.md)

---

## API Endpoints

### Public

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/jobs` | Job listings page |
| GET | `/job/[slug]` | Job detail page |
| GET | `/companies` | Companies page |

### Internal (require auth)

| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/api/cron/fetch-linkedin` | Trigger LinkedIn import |

---

## Monetization

| Feature | Free | Pro ($19/mo) |
|---------|------|--------------|
| View jobs | 20/day | Unlimited |
| Applications | 5/month | 100/month |
| Salary insights | Limited | Full |
| Email tracking | No | Yes |

---

## Contributing

1. Fork the repository
2. Create feature branch: `git checkout -b feature/amazing-feature`
3. Commit changes: `git commit -m 'Add amazing feature'`
4. Push to branch: `git push origin feature/amazing-feature`
5. Open Pull Request

---

## Files Overview

| File | Purpose |
|------|---------|
| `PLAN.md` | Detailed project plan and architecture |
| `deploy/DEPLOY.md` | VPS deployment guide |
| `deploy/nginx.conf` | Nginx configuration |
| `prisma/schema.prisma` | Database schema |
| `prisma/seed.ts` | Initial data seeding |

---

## Current Status

- [x] Project structure
- [x] Database schema
- [x] Basic pages (Home, Jobs, Job Detail)
- [x] DeepSeek integration
- [x] Apify integration
- [x] DashaMail integration
- [x] LinkedIn processor service
- [x] Docker deployment
- [ ] Authentication (NextAuth)
- [ ] Stripe payments
- [ ] User dashboard
- [ ] Application tracking
- [ ] SEO landing pages generator

---

## License

Private project. All rights reserved.
